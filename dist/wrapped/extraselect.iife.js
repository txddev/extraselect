var Extraselect=function(z,e){"use strict";const B=new WeakMap;class P{static put(l,t,o){B.has(l)||B.set(l,new Map),B.get(l).set(t,o)}static get(l,t){return B.get(l).get(t)}static has(l,t){return B.has(l)&&B.get(l).has(t)}static remove(l,t){var o=B.get(l).delete(t);return B.get(l).size!==0&&B.delete(l),o}static lock(l,t,o){return P.has(l,t)?!1:(P.put(l,t,!0),o())}}({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}).DATASTORE_DEBUG&&(window.__Store=B);function D(n){if(n==null)return{top:0,left:0,width:null,height:null};let l=n.getBoundingClientRect();return{top:l.top+window.scrollY,left:l.left+window.scrollX,width:l.width,height:l.height}}function A(n,l){l===void 0&&(l=window.document);for(var t=[],o=n.parentNode;o!=null&&o instanceof HTMLElement&&!(l instanceof HTMLElement&&o===l)&&!(typeof l=="string"&&o.matches(l));){var r=o;t.push(r),o=r.parentNode}return o!=null&&t.push(o),t}function ce(n){var l=Array.prototype.slice.call(n.childNodes);l.forEach(function(t){n.removeChild(t)})}var W;const F=typeof window<"u";F&&((W=window==null?void 0:window.navigator)==null?void 0:W.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function de(n){return typeof n=="function"?n():e.unref(n)}function ue(n){return n}function fe(n){return e.getCurrentScope()?(e.onScopeDispose(n),!0):!1}function pe(n,l=!0){e.getCurrentInstance()?e.onMounted(n):l?n():e.nextTick(n)}function Q(n){var l;const t=de(n);return(l=t==null?void 0:t.$el)!=null?l:t}const me=F?window:void 0;F&&window.document,F&&window.navigator,F&&window.location;function he(n,l=!1){const t=e.ref(),o=()=>t.value=Boolean(n());return o(),pe(o,l),t}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q="__vueuse_ssr_handlers__";j[q]=j[q]||{},j[q];var G=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,we=(n,l)=>{var t={};for(var o in n)ge.call(n,o)&&l.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&G)for(var o of G(n))l.indexOf(o)<0&&ye.call(n,o)&&(t[o]=n[o]);return t};function ke(n,l,t={}){const o=t,{window:r=me}=o,a=we(o,["window"]);let s;const c=he(()=>r&&"ResizeObserver"in r),m=()=>{s&&(s.disconnect(),s=void 0)},i=e.watch(()=>Q(n),h=>{m(),c.value&&r&&h&&(s=new ResizeObserver(l),s.observe(h,a))},{immediate:!0,flush:"post"}),u=()=>{m(),i()};return fe(u),{isSupported:c,stop:u}}function ve(n,l={width:0,height:0},t={}){const{box:o="content-box"}=t,r=e.ref(l.width),a=e.ref(l.height);return ke(n,([s])=>{const c=o==="border-box"?s.borderBoxSize:o==="content-box"?s.contentBoxSize:s.devicePixelContentBoxSize;c?(r.value=c.reduce((m,{inlineSize:i})=>m+i,0),a.value=c.reduce((m,{blockSize:i})=>m+i,0)):(r.value=s.contentRect.width,a.value=s.contentRect.height)},t),e.watch(()=>Q(n),s=>{r.value=s?l.width:0,a.value=s?l.height:0}),{width:r,height:a}}var J;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(J||(J={}));var Ee=Object.defineProperty,K=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,X=(n,l,t)=>l in n?Ee(n,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[l]=t,Ne=(n,l)=>{for(var t in l||(l={}))be.call(l,t)&&X(n,t,l[t]);if(K)for(var t of K(l))_e.call(l,t)&&X(n,t,l[t]);return n};Ne({linear:ue},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function Y(n,l){const t=e.ref(),o=ve(t),r=e.ref([]),a=e.shallowRef(n),s=e.ref({start:0,end:10}),{itemHeight:c,overscan:m=5}=l,i=y=>{if(typeof c=="number")return Math.ceil(y/c);const{start:S=0}=s.value;let _=0,E=0;for(let N=S;N<a.value.length;N++)if(_+=c(N),_>=y){E=N;break}return E-S},u=y=>{if(typeof c=="number")return Math.floor(y/c)+1;let S=0,_=0;for(let E=0;E<a.value.length;E++)if(S+=c(E),S>=y){_=E;break}return _+1},h=()=>{const y=t.value;if(y){const S=u(y.scrollTop),_=i(y.clientHeight),E=S-m,N=S+_+m;s.value={start:E<0?0:E,end:N>a.value.length?a.value.length:N},r.value=a.value.slice(s.value.start,s.value.end).map((M,w)=>({data:M,index:w+s.value.start}))}};e.watch([o.width,o.height,n],()=>{h()});const g=e.computed(()=>typeof c=="number"?a.value.length*c:a.value.reduce((y,S,_)=>y+c(_),0)),p=y=>typeof c=="number"?y*c:a.value.slice(0,y).reduce((_,E,N)=>_+c(N),0),v=y=>{t.value&&(t.value.scrollTop=p(y),h())},C=e.computed(()=>p(s.value.start)),x=e.computed(()=>({style:{width:"100%",height:`${g.value-C.value}px`,marginTop:`${C.value}px`}}));return{list:r,scrollTo:v,containerProps:{ref:t,onScroll:()=>{h()},style:{overflowY:"auto"}},wrapperProps:x}}const Oe=(n,l)=>{window.ExtraSelectOptions==null&&(window.ExtraSelectOptions={});const t={defaultArray:n.value,get:()=>n.value,push:(o,r,a=null)=>{const s=n.map.get(o);if(s)s.value=r,s.data=a;else{let c={value:r,key:o,data:a};n.value.push(c),n.map.set(c.key,c)}},addRange:o=>{for(let r of o)n.actions.push(r.key,r.value,r.data)},remove:o=>{n.value.splice(n.value.findIndex(r=>r.key==o),1)},clear:()=>{n.value=[]},sort:(o=null)=>{o==null&&(o=(r,a)=>r.value.localeCompare(a.value)),n.value=n.value.sort(o)},setDefault:function(o){this.defaultArray=o},restoreDefault:function(){n.value=this.defaultArray},filter:function(o){}};window.ExtraSelectOptions[l]=t,n.actions=t};let Se=1;const Z=n=>{n&&(n.style.display="none",ce(n))},ee=(n,l,t,o)=>{var m;const r=e.ref(new Map);e.watchEffect(()=>{if(Array.isArray(t.value)){r.value.clear();for(let i of t.value)r.value.set(i,i)}});const a=e.ref([]);if(a.map=new Map,a.rebuildMap=()=>{if(a.map.clear(),a.value)for(let i of a.value)a.map.set(i.key,i)},e.watchEffect(()=>{l.value&&(a.value=l.value,a.rebuildMap())}),n){r.value.clear();for(let i of Array.apply(null,n.selectedOptions).map(u=>u.value).filter(u=>u))r.value.set(i,i);a.value=Array.apply(null,n.options).reduce((i,u)=>(i.push({value:u.text,key:u.value,data:u.dataset}),i),[]),a.rebuildMap()}if(Array.isArray(o))for(let i of o)r.value.set(i,i);else o!=null&&r.value.set(o,o);Oe(a,(m=n==null?void 0:n.id)!=null?m:"extraselect_"+(++Se).toString());const s=[];return r.value.forEach((i,u)=>{s.push([u,i])}),{options:a,selectedOptions:r,onReset:()=>{r.value.clear();for(let[i,u]of s)r.value.set(i,u)}}},te=async function(n,l=null,t={}){var a;const o={method:"POST",credentials:"include",...t,headers:{"Content-Type":"application/json",...(a=t.headers)!=null?a:{}},body:JSON.stringify({search:l,...t.body})};return await(await fetch(n,o)).json()},ne=(n,l,t,o,r,a,s="limited",c={})=>{const m=e.ref(0),i=e.ref(!1),u=e.computed(()=>i.value||m.value>0);if(l!=null&&l.length>0)if(t){const h=[];e.watchEffect(g=>{if(o.value.length>=r){let p=!0;switch(s){case"always":break;default:case"limited":p=!h.includes(o.value);break;case"complete":p=h.reduce((v,C)=>v&&!o.value.startsWith(C),!0);break}if(p){i.value=!0;const v=setTimeout(()=>{h.push(o.value),m.value+=1,c.body={...c.body,...a.value},te(l,o.value,c).then(C=>{n.actions.addRange(C),n.actions.sort(),m.value-=1,i.value=!1})},500);g(()=>{clearTimeout(v)})}}})}else te(l,null,c).then(h=>{n.actions.addRange(h),n.actions.sort()});return{searchingFlag:u}},le=(n,l)=>{const t=e.ref(""),o=e.ref([]),r=e.ref({});for(let s of l){let c=document.getElementById(s);r.value[s]=c==null?void 0:c.value,c&&c.addEventListener("change",m=>{r.value[s]=m.target.value})}const a=function(s,c){let m=s.value;return Object.keys(r.value).length>0&&(m=m.filter(i=>{var u,h;for(let g in r.value)if(((u=r.value[g])!=null?u:"").length>0&&(!((h=i.data)!=null&&h.hasOwnProperty(g))||i.data[g]!=r.value[g]))return!1;return!0})),c.length>0&&(m=m.filter(i=>i.value.toLowerCase().includes(c.toLowerCase()))),m};return e.watchEffect(()=>{o.value=a(n,t.value)}),{filterText:t,filteredOptions:o,filterValues:r}},oe=(n,l,t,o,r,a,s)=>{const c=getComputedStyle(document.querySelector("body")).font,m=function(h){const p=document.createElement("canvas").getContext("2d");return p.font=c,p.measureText(h).width},i=e.computed(()=>{var g,p;const h=(g=D(o.value).width)!=null?g:100;if(s==="inherit")return h;if(s==null||s==="dynamic"){const v=(p=parseInt(getComputedStyle(document.querySelector("html"))["font-size"]))!=null?p:16;return Math.max(h,Math.max(...n.value.map(C=>m(C.value)))+20+v*3)}return s}),u=e.ref({position:"absolute","min-width":"max-content"});return e.watchPostEffect(()=>{t.value<0&&console.log("is open"),l.value.size<0&&console.log("empty selection");var h=D(o.value),g=D(null);if(a.value&&["absolute","relative","fixed","sticky"].includes(getComputedStyle(a.value).position))var g=D(a.value);let p=-g.left+h.left;const v=window.document.documentElement.clientWidth;p+i.value>v&&(p=v-i.value),u.value={position:"absolute","min-width":"max-content",width:i.value.toString()+"px",top:(-g.top+h.top+h.height).toString()+"px",left:p.toString()+"px"}}),{dropdownStyle:u,getTextWidth:m}},Ce={key:0,class:"extra-select selection"},xe=["onClick"],Be=["innerHTML"],Ve=["value"],Le={key:0,class:"input-searching"},Te={key:0,class:"allselect-clear"},Pe={class:"row-input"},Me=["checked"],Ae=e.createElementVNode("b",null,"Select all",-1),Ie={class:"row-input"},Fe=["checked"],$e=e.createElementVNode("b",null,"Select Filtered",-1),ze={key:1,class:"no-matches"},De={key:2},Re=["onClick"],je={class:"row-input"},qe=["checked"],He=["value"],Ue=Object.assign({name:"ExtraSelect",inheritAttrs:!1},{props:{originalNode:{type:Object,required:!1},multiple:{type:Boolean,required:!1},options:{type:Array,required:!1},modelValue:{type:Array,required:!1,default:[]},url:{type:String,required:!1},maxWidth:{type:String,default:"dynamic"},search:{type:Boolean,default:!1},searchableUrl:{type:Boolean,default:!1},initialValue:{default:null},minChars:{type:Number,default:0},showSelected:{type:Boolean,default:!1},fetchMode:{type:String,default:"limited"},fetchOptions:{type:Object,default:{}},filterFields:{type:Array,default:[]},removeIcon:{type:String,default:"X"},dropdownContainer:{type:String,default:null}},emits:["update:modelValue"],setup(n,{emit:l}){var ae,re,se;const t=n,o=e.computed(()=>{var d,f;return(f=(d=t.originalNode)==null?void 0:d.multiple)!=null?f:t.multiple}),{options:r,selectedOptions:a,onReset:s}=ee(t.originalNode,e.toRef(t,"options"),e.toRef(t,"modelValue"),t.initialValue),c=(ae=t.originalNode)==null?void 0:ae.classList,m=Object.values((se=(re=t.originalNode)==null?void 0:re.style)!=null?se:{});Z(t.originalNode);const{filterText:i,filteredOptions:u,filterValues:h}=le(r,t.filterFields),{searchingFlag:g}=ne(r,t.url,t.searchableUrl,i,t.minChars,h,t.fetchMode,t.fetchOptions),p=e.ref(null),v=e.ref(null),C=e.ref(null),x=e.ref(!1),V=e.ref(null),y=function(d){const f=A(d.target);f.push(d.target),!f.includes(p.value)&&!f.includes(v.value)&&(x.value=!1)};e.onMounted(()=>{if(t.dropdownContainer){let d=!1;V.value=A(p.value).find(f=>!!(f instanceof Element&&(f.matches(t.dropdownContainer)&&(d=!0),d&&["absolute","relative","fixed","sticky"].includes(getComputedStyle(f).position))))}if(V.value==null&&(V.value=document.querySelector("body")),t.originalNode){for(let f of c)f!="extraselect"&&p.value.classList.add(f);for(let f of m)p.value.style[f]=t.originalNode.style[f];m.includes("background-color")||(p.value.style.backgroundColor="white");let d=A(p.value,"form").pop();d instanceof HTMLElement&&d.matches("form")&&d.addEventListener("reset",()=>setTimeout(s))}window.document.addEventListener("mousedown",y),window.document.addEventListener("focusin",y)}),e.onUnmounted(()=>{window.document.removeEventListener("mousedown",y),window.document.removeEventListener("focusin",y)});const{dropdownStyle:S,getTextWidth:_}=oe(r,a,x,p,v,V,t.maxWidth),E=d=>{e.nextTick(()=>{var f;return(f=t.originalNode)==null?void 0:f.dispatchEvent(new Event("change",{bubbles:!0}))}),l("update:modelValue",d)},N=d=>{o.value?a.value.has(d)?a.value.delete(d):a.value.set(d,d):(a.value.clear(),a.value.set(d,d),x.value=!1),E(Array.from(a.value.keys()))},M=d=>{w(d,!1),i.value=""},w=(d,f=null)=>{f==null&&(f=!O.value),f?(a.value.clear(),r.value.forEach(k=>a.value.set(k.key,k.key))):a.value.clear(),E(Array.from(a.value.keys()))},b=()=>{L.value?u.value.forEach(d=>{a.value.has(d.key)&&a.value.delete(d.key)}):u.value.forEach(d=>{a.value.has(d.key)||a.value.set(d.key,d.key)}),E(Array.from(a.value.keys()))};e.watch(x,(d,f)=>{d!=f&&(d?t.search&&e.nextTick(()=>{C.value.focus({focusVisible:!0})}):i.value="")});const O=e.computed(()=>a.value.size==r.value.length),L=e.computed(()=>u.value.reduce((d,f)=>d&&a.value.has(f.key),!0)),Xe=e.computed(()=>a.value.size==0),Ye=e.computed(()=>{var d,f,k,I,$;if(r.value.length<0)return"";if(o.value){if(Xe.value)return"No selection";if(!t.searchableUrl&&O.value)return"All selected";const T=p.value?getComputedStyle(p.value):null,nt=((d=p.value)==null?void 0:d.clientWidth)-parseInt(T==null?void 0:T.paddingLeft)-parseInt(T==null?void 0:T.paddingRight);let R=a.value.size+" selected - ",ie=!0;for(let lt of a.value)if(ie?ie=!1:R+=", ",R+=(k=(f=r.map.get(lt[0]))==null?void 0:f.value)!=null?k:g.value?"Loading...":"Value not found",nt<_(R))return a.value.size+" selected";return R}else for(let T of a.value)return($=(I=r.map.get(T[0]))==null?void 0:I.value)!=null?$:g.value?"Loading...":"Value not found";return"No selection"}),{list:Ze,containerProps:et,wrapperProps:tt}=Y(u,{itemHeight:32});return(d,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[t.showSelected?(e.openBlock(),e.createElementBlock("div",Ce,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),k=>{var I;return e.openBlock(),e.createElementBlock("div",{key:k,onClick:$=>N(k[0]),class:"selection-badge"},[e.createTextVNode(e.toDisplayString((I=e.unref(r).find($=>$.key==k[0]))==null?void 0:I.value)+" ",1),e.createElementVNode("div",{class:"selection-remove",innerHTML:t.removeIcon},null,8,Be)],8,xe)}),128))])):e.createCommentVNode("",!0),e.createElementVNode("input",e.mergeProps({onFocus:f[0]||(f[0]=k=>x.value=!0),onClick:f[1]||(f[1]=k=>x.value=!0),ref_key:"inputNode",ref:p,value:e.unref(Ye),class:"extra-select extra-select-input",readonly:""},d.$attrs),null,16,Ve),V.value?(e.openBlock(),e.createBlock(e.Teleport,{key:1,to:V.value},[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass(["extra-select dropdown",{searching:e.unref(g)>0}]),ref_key:"dropdownNode",ref:v,style:e.normalizeStyle(e.unref(S))},[t.search?(e.openBlock(),e.createElementBlock("div",Le,[e.withDirectives(e.createElementVNode("input",{ref_key:"searchNode",ref:C,class:"extra-select-search","onUpdate:modelValue":f[2]||(f[2]=k=>e.isRef(i)?i.value=k:null),type:"text",autocomplete:"off",autocorrect:"off",autocapitilize:"off",spellcheck:"false",placeholder:"Cerca..."},null,512),[[e.vModelText,e.unref(i)]])])):e.createCommentVNode("",!0),e.unref(i).length>=t.minChars?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(o)?(e.openBlock(),e.createElementBlock("div",Te,[e.unref(i).length==0?(e.openBlock(),e.createElementBlock("div",{key:0,onClick:w,class:"all-select"},[e.createElementVNode("div",Pe,[e.createElementVNode("input",{checked:e.unref(O),type:"checkbox"},null,8,Me),Ae])])):e.createCommentVNode("",!0),e.unref(u).length>0&&e.unref(i).length>0?(e.openBlock(),e.createElementBlock("div",{key:1,onClick:b,class:"all-select"},[e.createElementVNode("div",Ie,[e.createElementVNode("input",{checked:e.unref(L),type:"checkbox"},null,8,Fe),$e])])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"clear",onClick:M},"Clear")])):e.createCommentVNode("",!0),e.unref(u).length==0?(e.openBlock(),e.createElementBlock("div",ze,"No matches found")):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock("div",De,"Insert at least "+e.toDisplayString(t.minChars)+" characters",1)),e.createElementVNode("div",e.mergeProps(e.unref(et),{class:"scroller"}),[e.createElementVNode("div",e.normalizeProps(e.guardReactiveProps(e.unref(tt))),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Ze),k=>(e.openBlock(),e.createElementBlock("button",{key:k.index,class:"dropdown-row",onClick:e.withModifiers(I=>N(k.data.key),["stop","prevent"]),style:{height:"32px"}},[e.createElementVNode("div",je,[e.unref(o)?(e.openBlock(),e.createElementBlock("input",{key:0,checked:e.unref(a).has(k.data.key),type:"checkbox"},null,8,qe)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(k.data.value),1)])],8,Re))),128))],16)],16)],6),[[e.vShow,x.value]])],8,["to"])):e.createCommentVNode("",!0),t.originalNode?(e.openBlock(),e.createBlock(e.Teleport,{key:2,to:t.originalNode},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),k=>(e.openBlock(),e.createElementBlock("option",{key:k[0],selected:"selected",value:k[0]},null,8,He))),128))],8,["to"])):e.createCommentVNode("",!0)],64))}}),We={key:0,class:"no-matches"},Qe={key:1},Ge=["onClick"],Je={class:"row-input"},Ke=Object.assign({name:"ExtraSuggest",inheritAttrs:!1},{props:{originalNode:{type:Object,required:!1},options:{type:Array,required:!1},modelValue:{type:String,required:!1},maxWidth:{type:String,default:"dynamic"},url:{type:String,required:!1},searchableUrl:{type:Boolean,default:!1},minChars:{type:Number,default:0},fetchMode:{type:String,default:"limited"},fetchOptions:{type:Object,default:{}},filterFields:{type:Array,default:[]},dropdownContainer:{type:String,default:null}},emits:["update:modelValue"],setup(n,{emit:l}){var E,N,M;const t=n,{options:o}=ee(null,e.toRef(t,"options"),e.ref([])),r=(E=t.originalNode)==null?void 0:E.classList,a=Object.values((M=(N=t.originalNode)==null?void 0:N.style)!=null?M:{});Z(t.originalNode);const{filterText:s,filteredOptions:c,filterValues:m}=le(o,t.filterFields),{searchingFlag:i}=ne(o,t.url,t.searchableUrl,s,t.minChars,m,t.fetchMode,t.fetchOptions),u=e.ref(null),h=e.ref(null),g=e.ref(!1),p=e.ref(null),v=function(w){const b=A(w.target);b.push(w.target),!b.includes(u.value)&&!b.includes(h.value)&&(g.value=!1)};e.onMounted(()=>{if(t.dropdownContainer){let w=!1;p.value=A(u.value).find(b=>!!(b instanceof Element&&(b.matches(t.dropdownContainer)&&(w=!0),w&&["absolute","relative","fixed","sticky"].includes(getComputedStyle(b).position))))}if(p.value==null&&(p.value=document.querySelector("body")),t.originalNode){for(let L of r)L!="extrasuggest"&&u.value.classList.add(L);for(let L of a)u.value.style[L]=t.originalNode.style[L];a.includes("background-color")||(u.value.style.backgroundColor="white"),s.value=t.originalNode.value,e.watchEffect(()=>{t.modelValue!=null&&(s.value=t.modelValue)});const w=s.value,b=()=>{s.value=w};let O=A(u.value,"form").pop();O instanceof HTMLElement&&O.matches("form")&&O.addEventListener("reset",()=>setTimeout(b))}window.document.addEventListener("mousedown",v),window.document.addEventListener("focusin",v)}),e.onUnmounted(()=>{window.document.removeEventListener("mousedown",v),window.document.removeEventListener("focusin",v)});const{dropdownStyle:C}=oe(o,e.ref([]),g,u,h,p,t.maxWidth),x=w=>{s.value=o.map.get(w).value,g.value=!1},V=()=>{var w;t.originalNode&&(t.originalNode.value=s.value,(w=t.originalNode)==null||w.dispatchEvent(new Event("change",{bubbles:!0}))),l("update:modelValue",s.value)};e.watch(()=>g.value,w=>{w===!1&&V()});const{list:y,containerProps:S,wrapperProps:_}=Y(c,{itemHeight:32});return(w,b)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.withDirectives(e.createElementVNode("input",e.mergeProps({onFocus:b[0]||(b[0]=O=>g.value=!0),onClick:b[1]||(b[1]=O=>g.value=!0),ref_key:"inputNode",ref:u,"onUpdate:modelValue":b[2]||(b[2]=O=>e.isRef(s)?s.value=O:null),class:"extra-select extra-select-input"},w.$attrs),null,16),[[e.vModelDynamic,e.unref(s)]]),p.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:p.value},[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass(["extra-select dropdown",{searching:e.unref(i)>0}]),ref_key:"dropdownNode",ref:h,style:e.normalizeStyle(e.unref(C))},[e.unref(s).length>=t.minChars?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(c).length==0?(e.openBlock(),e.createElementBlock("div",We,"No matches found")):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock("div",Qe,"Insert at least "+e.toDisplayString(t.minChars)+" characters",1)),e.createElementVNode("div",e.mergeProps(e.unref(S),{class:"scroller"}),[e.createElementVNode("div",e.normalizeProps(e.guardReactiveProps(e.unref(_))),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(y),O=>(e.openBlock(),e.createElementBlock("button",{key:O.index,class:"dropdown-row",onClick:e.withModifiers(L=>x(O.data.key),["stop","prevent"]),style:{height:"32px"}},[e.createElementVNode("div",Je,e.toDisplayString(O.data.value),1)],8,Ge))),128))],16)],16)],6),[[e.vShow,g.value]])],8,["to"])):e.createCommentVNode("",!0)],64))}}),H={init:function(){document.querySelectorAll(".extraselect").forEach(function(n){H.bindNew(n)})},bindNew(n){P.lock(n,"extra-select",()=>{const l={};for(let r in n.dataset)try{l[r]=JSON.parse(n.dataset[r])}catch{l[r]=n.dataset[r]}l.originalNode=n;const t=document.createElement("div");n.parentNode.insertBefore(t,n.nextSibling),t.dataset.isVue=!0,t.style.display="contents";const o=e.createApp(Ue,l);o.mount(t),n.addEventListener("remove",function(){o.unmount(),t.remove(),n.remove(),P.remove(n,"extra-select")})})}},U={init:function(){document.querySelectorAll(".extrasuggest").forEach(function(n){U.bindNew(n)})},bindNew(n){P.lock(n,"extra-suggest",()=>{const l={};for(let r in n.dataset)try{l[r]=JSON.parse(n.dataset[r])}catch{l[r]=n.dataset[r]}l.originalNode=n;const t=document.createElement("div");n.parentNode.insertBefore(t,n.nextSibling),t.dataset.isVue=!0,t.style.display="contents";const o=e.createApp(Ke,l);o.mount(t),n.addEventListener("remove",function(){o.unmount(),t.remove(),n.remove(),P.remove(n,"extra-suggest")})})}};return document.addEventListener("DOMContentLoaded",function(){H.init(),U.init()}),z.ExtraSelect=H,z.ExtraSuggest=U,Object.defineProperties(z,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),z}({},Vue);
